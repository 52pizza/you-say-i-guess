<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>你說我猜</title>
    <style>
        /* --- 整體樣式 --- */
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: start;
            min-height: 100vh;
        }

        /* --- 遊戲主容器 --- */
        .game-container {
            background: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            width: 90%;
            max-width: 600px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }

        /* --- 標題 --- */
        h1 {
            color: #2c3e50;
            font-size: 1.5em;
            margin-bottom: 20px;
        }

        /* --- 題目區 --- */
        #questionArea {
            background-color: #ecf0f1;
            border-radius: 10px;
            padding: 40px 20px;
            margin: 20px 0;
            min-height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8em;
            color: #34495e;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        
        /* --- 狀態顯示區 (得分與犯規) --- */
        #stats {
            display: flex;
            justify-content: space-around;
            font-size: 1.2em;
            margin: 20px 0;
        }

        #stats div {
            background-color: #f4f7f9;
            padding: 10px 20px;
            border-radius: 8px;
        }
        
        .score { color: #27ae60; }
        .fouls { color: #c0392b; }

        /* --- 按鈕容器 --- */
        #buttonsContainer {
            gap: 15px;
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-items: stretch;
            align-content: stretch;
        }
        #buttonsContainer2 {
            font-size: 0.8em;
            gap: 2px;
            margin-top: 30px;
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-items: center;
            align-content: stretch;
        }

        /* --- 通用按鈕樣式 --- */
        button {
            padding: 15px 30px;
            font-size: 1em;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            color: white;
            min-width: 120px;
        }

        #buttonsContainer2 > button {
            padding: 10px 0px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        button:active {
            transform: translateY(-1px);
        }

        /* --- 特定按鈕顏色 --- */
        #startBtn { background-color: #3498db; }
        #correctBtn { background-color: #2ecc71; }
        #foulBtn { background-color: #e74c3c; }
        #passBtn { background-color: #f39c12; }
        #restartBtn { background-color: #9b59b6; }

    </style>
</head>
<body>

    <div class="game-container">
        <h1>🎯 你說我猜</h1>
        <div id="questionArea">請按開始顯示題目</div>
        
        <!-- 初始隱藏的狀態顯示區 -->
        <div id="stats" style="display: none;">
            <div class="score">得分：<span id="score">0</span></div>
            <div class="fouls">犯規：<span id="foulsCount">0</span></div>
        </div>

        <div id="buttonsContainer">
            <!-- 初始按鈕 -->
            <button id="startBtn">🚀 開始遊戲</button>
            
            <!-- 遊戲中按鈕 (初始隱藏) -->
            <button id="correctBtn" style="display: none;">✅ 答對</button>
            <div id="buttonsContainer2">
                <button id="foulBtn" style="display: none;">⚠️ 犯規</button>
                <button id="passBtn" style="display: none;">⏭️ PASS</button>
                <button id="restartBtn" style="display: none;">🔄 重新開始</button>
            </div>
        </div>
    </div>

    <script>
        // --- 題目資料 ---
        const questionsOriginal = [
          "虎頭蛇尾", "淚流滿面", "羊入虎口", "捧腹大笑", "平行線", "狼吞虎嚥", "與神同行", "甄環傳", "辦公室戀情", "我在墾丁天氣晴", 
          "鹹蛋超人", "目瞪口呆", "土味情話", "金酸梅獎", "一別兩寬", "披著羊皮的狼", "健人就是腳勤", "七夕情人節", "天文學家", "假髮", "天鵝湖", "錄音筆", 
          "畫蛇添足", "井底之蛙", "守株待兔", "亡羊補牢", "對牛彈琴", "雞同鴨講", "九牛一毛", "狐假虎威", "杯弓蛇影", "掩耳盜鈴", 
          "一石二鳥", "樂極生悲", "幸災樂禍", "三心二意", "水落石出", "杞人憂天", "盲人摸象", "胸有成竹", "鶴立雞群", "畫龍點睛", 
          "走馬看花", "指鹿為馬", "魚目混珠", "黔驢技窮", "塞翁失馬", "望梅止渴", "朝三暮四", "鷸蚌相爭", "名落孫山", "金蟬脫殼", 
          "腳踏實地", "破釜沉舟", "臥虎藏龍", "一箭雙雕", "心猿意馬", "狗急跳牆", "呆若木雞", 
          "海角七號", "鐵達尼號", "魷魚遊戲", "我們與惡的距離", "哈利波特", "侏羅紀公園", "火影忍者", "諾貝爾獎", "國家地理頻道", "羅密歐與茱麗葉", "綠野仙蹤", 
          "周杰倫", "蔡依林", "五月天", "皮卡丘", "名偵探柯南", "櫻桃小丸子", "蠟筆小新", "蜘蛛人", "蝙蝠俠", "灰姑娘", 
          "白雪公主", "孔子", "愛因斯坦", "賈伯斯", "聖誕老人", "蒙娜麗莎", "自由女神", "丘比特", "吸血鬼", 
          "傻眼貓咪", "我就爛", "我全都要", "八卦", "躺平", "儀式感", "玻璃心", "時間管理大師", "工具人", "邊緣人", 
          "吃瓜群眾", "宅男", "社畜", "斜槓青年", "小確幸", "空氣清淨機", "行動電源", "藍牙耳機", "氣炸鍋", "掃地機器人", 
          "捷運", "高鐵", "健身房", "馬拉松", "瑜珈", "潛水", "露營", "野餐", "手搖飲", "珍珠奶茶", 
          "雞排", "臭豆腐", "小籠包", "牛肉麵", "滷肉飯", "鳳梨酥", "火鍋", "吃到飽", "早午餐", "下午茶", 
          "夜市", "百貨公司", "電影院", "博物館", "人工智慧", "大數據", "區塊鏈", "社交距離", "萬聖節", "聖誕節", "跨年"
        ];

        // --- 變數定義 ---
        let shuffledQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let fouls = 0;
        const MAX_FOULS = 3;

        // --- DOM 元素獲取 ---
        const questionArea = document.getElementById('questionArea');
        const statsDisplay = document.getElementById('stats');
        const scoreDisplay = document.getElementById('score');
        const foulsDisplay = document.getElementById('foulsCount');
        
        const startBtn = document.getElementById('startBtn');
        const correctBtn = document.getElementById('correctBtn');
        const foulBtn = document.getElementById('foulBtn');
        const passBtn = document.getElementById('passBtn');
        const restartBtn = document.getElementById('restartBtn');

        // --- 事件監聽 ---
        startBtn.addEventListener('click', startGame);
        correctBtn.addEventListener('click', correctAnswer);
        foulBtn.addEventListener('click', foul);
        passBtn.addEventListener('click', passQuestion);
        restartBtn.addEventListener('click', restartGame);

        // --- 功能函式 ---
        
        // 1. 開始遊戲
        function startGame() {
            shuffledQuestions = [...questionsOriginal].sort(() => Math.random() - 0.5);
            currentQuestionIndex = 0;
            score = 0;
            fouls = 0;
            updateStats();

            // 完全按照您的要求：隱藏「開始」，顯示其他四個按鈕
            startBtn.style.display = 'none';
            statsDisplay.style.display = 'flex';
            correctBtn.style.display = 'inline-block';
            foulBtn.style.display = 'inline-block';
            passBtn.style.display = 'inline-block';
            restartBtn.style.display = 'inline-block'; // 按下開始後即顯示
            
            showNextQuestion();
        }

        // 2. 顯示下一題
        function showNextQuestion() {
            if (currentQuestionIndex < shuffledQuestions.length) {
                questionArea.textContent = `${shuffledQuestions[currentQuestionIndex]}`;
            } else {
                endGame();
            }
        }

        // 3. 答對處理
        function correctAnswer() {
            score++;
            currentQuestionIndex++;
            updateStats();
            showNextQuestion();
        }

        // 4. 犯規處理
        function foul() {
            fouls++;
            if (fouls >= MAX_FOULS) {
                alert(`犯規已達 ${MAX_FOULS} 次，扣 1 分！`);
                score = Math.max(0, score - 1);
                fouls = 0;
            }
            updateStats();
        }

        // 5. PASS (跳過)
        function passQuestion() {
            currentQuestionIndex++;
            showNextQuestion();
        }

        // 6. 重新開始
        function restartGame() {
            if (confirm("您確定要重新開始遊戲嗎？")) {
                location.reload();
            }
        }

        // 7. 更新分數與犯規次數顯示
        function updateStats() {
            scoreDisplay.textContent = score;
            foulsDisplay.textContent = fouls;
        }

        // 8. 遊戲結束
        function endGame() {
            questionArea.textContent = "🎉 遊戲結束！恭喜您完成所有題目！";
            // 遊戲結束時，隱藏與題目相關的按鈕
            correctBtn.style.display = 'none';
            foulBtn.style.display = 'none';
            passBtn.style.display = 'none';
            // 「重新開始」按鈕保持可見
            restartBtn.style.display = 'inline-block';
        }
    </script>

</body>
</html>
